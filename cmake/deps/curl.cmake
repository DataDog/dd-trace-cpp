include(FetchContent)

# No need to build curl executable
SET(BUILD_CURL_EXE OFF CACHE BOOL "" FORCE)
set(BUILD_LIBCURL_DOCS OFF CACHE BOOL "" FORCE)
set(BUILD_MISC_DOCS OFF CACHE BOOL "" FORCE)

# Disable all protocols except HTTP
SET(HTTP_ONLY ON CACHE BOOL "" FORCE)

# Disable curl features
SET(USE_ZLIB OFF CACHE BOOL "" FORCE)
SET(USE_LIBIDN2 OFF CACHE BOOL "" FORCE)
SET(CURL_ENABLE_SSL OFF CACHE BOOL "" FORCE)
SET(CURL_BROTLI OFF CACHE BOOL "" FORCE)
SET(CURL_ZSTD OFF CACHE BOOL "" FORCE)
SET(CURL_ZLIB OFF CACHE BOOL "" FORCE)
SET(CURL_USE_LIBSSH2 OFF CACHE BOOL "" FORCE)
SET(CURL_USE_LIBPSL OFF CACHE BOOL "" FORCE)
SET(CURL_DISABLE_HSTS ON CACHE BOOL "" FORCE)
set(CURL_CA_PATH "none")
set(CURL_CA_PATH_SET FALSE CACHE BOOL "" FORCE)
set(CURL_DISABLE_INSTALL ON CACHE BOOL "" FORCE)
set(CURL_DISABLE_ALTSVC ON CACHE BOOL "" FORCE)
set(CURL_DISABLE_SRP ON CACHE BOOL "" FORCE)

set(SHARE_LIB_OBJECT ON CACHE BOOL "" FORCE)

FetchContent_Declare(
  CURL
  URL "https://github.com/curl/curl/releases/download/curl-8_8_0/curl-8.8.0.tar.gz"
  URL_MD5 "2300048f61e6196678281a8612a873ef"
  FIND_PACKAGE_ARGS NAMES CURL
)

FetchContent_MakeAvailable(CURL)
